

% 1 : x; 2: y; 3: tikz object name
\newcommand\smemRRarb[3]{
    \node[circle, draw, color=black, anchor=south, thick, minimum size=1cm, inner sep=0pt] (#3) at (#1, #2) {A};
    \draw[ultra thick, ->, >=latex] (#3.west) -- ([yshift=-0.6em]#3.west); 
}

% X, Y, PRINTNAME, tikzlabel
\newcommand\smemCore[4]{
    \node[rectangle, draw, color=black, thick, anchor=south west, minimum width=2cm, minimum height=1cm, inner sep=0pt] (#4) at (#1, #2) {#3};
}

% X, Y, PRINTNAME, tikzlabel
\newcommand\smemBank[4]{
    \node[rectangle, draw, color=black, thick, anchor=south west, minimum width=2.5cm, minimum height=1cm, inner sep=0pt] (#4) at (#1, #2) {\emph{#3}};
    \smemRRarb{#1-1}{#2}{arb#4}
    \draw[thick] (arb#4.east) -- (#4.west);
}


\begin{tikzpicture}[font={\fontsize{12pt}{12}\selectfont}]

    \smemCore{0}{-6}{RM}{rm}
    \smemCore{0}{1.5}{DMA}{dma}
    
    \smemCore{0}{0}{PE 0}{pe0}
    \smemBank{6}{0}{Banc 0}{bank0}
        
    \smemCore{0}{-1.5}{PE 1}{pe1}
    \smemBank{6}{-1.5}{Banc 1}{bank1}
    
    \smemCore{0}{-3}{PE 2}{pe2}
    \smemBank{6}{-3}{Banc 2}{bank2}
    
    \smemCore{0}{-4.5}{PE 3}{pe3}
    \smemBank{6}{-4.5}{Banc 3}{bank3}

    \draw[thick] (pe0.east) -- (arbbank0.west);
    \draw[thick] (pe0.east) -- (arbbank1.west);
    \draw[thick] (pe0.east) -- (arbbank2.west);
    \draw[thick] (pe0.east) -- (arbbank3.west);

    \draw[thick] (pe1.east) -- (arbbank0.west);
    \draw[thick] (pe1.east) -- (arbbank1.west);
    \draw[thick] (pe1.east) -- (arbbank2.west);
    \draw[thick] (pe1.east) -- (arbbank3.west);

    \draw[thick] (pe2.east) -- (arbbank0.west);
    \draw[thick] (pe2.east) -- (arbbank1.west);
    \draw[thick] (pe2.east) -- (arbbank2.west);
    \draw[thick] (pe2.east) -- (arbbank3.west);

    \draw[thick] (pe3.east) -- (arbbank0.west);
    \draw[thick] (pe3.east) -- (arbbank1.west);
    \draw[thick] (pe3.east) -- (arbbank2.west);
    \draw[thick] (pe3.east) -- (arbbank3.west);

    \draw[thick, densely dotted] (dma.east) -- (arbbank0.west);
    \draw[thick, densely dotted] (dma.east) -- (arbbank1.west);
    \draw[thick, densely dotted] (dma.east) -- (arbbank2.west);
    \draw[thick, densely dotted] (dma.east) -- (arbbank3.west);
    
    \draw[thick, densely dotted] (rm.east) -- (arbbank0.west);
    \draw[thick, densely dotted] (rm.east) -- (arbbank1.west);
    \draw[thick, densely dotted] (rm.east) -- (arbbank2.west);
    \draw[thick, densely dotted] (rm.east) -- (arbbank3.west);

\end{tikzpicture}
